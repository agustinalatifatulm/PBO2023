-- This script was generated by the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE IF NOT EXISTS public.peminjaman
(
    idpeminjaman character varying COLLATE pg_catalog."default" NOT NULL,
    nama character varying COLLATE pg_catalog."default",
    nim character varying COLLATE pg_catalog."default",
    prodi character varying COLLATE pg_catalog."default",
    tanggalpinjam date,
    tanggalkembali date,
    angkatan character varying COLLATE pg_catalog."default",
    idbuku character varying COLLATE pg_catalog."default",
    judulbuku character varying COLLATE pg_catalog."default",
    CONSTRAINT peminjaman_pkey PRIMARY KEY (idpeminjaman)
);

CREATE TABLE IF NOT EXISTS public.buku
(
    idbuku character varying COLLATE pg_catalog."default" NOT NULL,
    isbn character varying(255) COLLATE pg_catalog."default",
    judul character varying(255) COLLATE pg_catalog."default",
    kategori character varying(255) COLLATE pg_catalog."default",
    pengarang character varying(255) COLLATE pg_catalog."default",
    penerbit character varying(255) COLLATE pg_catalog."default",
    tahun character varying COLLATE pg_catalog."default",
    jumlahhalaman character varying COLLATE pg_catalog."default",
    CONSTRAINT buku_pkey PRIMARY KEY (idbuku)
);

ALTER TABLE IF EXISTS public.peminjaman
    ADD CONSTRAINT fk_peminjaman_idbuku FOREIGN KEY (idbuku)
    REFERENCES public.buku (idbuku) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;

END;